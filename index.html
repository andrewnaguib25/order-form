<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Store Order Form</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .container { width: 50%; margin: auto; padding: 20px; border: 1px solid #ccc; border-radius: 10px; }
        .cart { margin-top: 20px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
        .total { font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Student Store Order Form</h2>
        <label>Email: <input type="email" id="email"></label><br><br>
        <label>Full Name: <input type="text" id="fullName"></label><br><br>
        <label>Student ID: <input type="text" id="studentID"></label><br><br>

        <h3>Select Items</h3>
        <label>Snack: 
            <select id="snack">
                <option value="">Select Snack</option>
                <option value="Cup of Noodles" data-price="1.50">Cup of Noodles - $1.50</option>
                <option value="Oreos" data-price="1.50">Oreos - $1.50</option>
                <option value="Takis" data-price="3.00">Takis - $3.00</option>
            </select>
            Quantity: <input type="number" id="snackQty" min="1" value="1">
            <button onclick="addToCart('snack')">Add</button>
        </label><br><br>

        <h3>Cart</h3>
        <table>
            <thead>
                <tr>
                    <th>Item</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Remove</th>
                </tr>
            </thead>
            <tbody id="cartBody"></tbody>
        </table>
        <p class="total">Total: $<span id="totalPrice">0.00</span></p>

        <button onclick="submitOrder()">Submit Order</button>
    </div>

    <script>
        let cart = [];

        function addToCart(type) {
            let select = document.getElementById(type);
            let quantity = document.getElementById(type + 'Qty').value;
            let itemName = select.options[select.selectedIndex].value;
            let price = parseFloat(select.options[select.selectedIndex].getAttribute('data-price'));
            
            if (!itemName || quantity < 1) return;

            cart.push({ item: itemName, quantity: parseInt(quantity), price: price * quantity });
            updateCart();
        }

        function updateCart() {
            let cartBody = document.getElementById("cartBody");
            cartBody.innerHTML = "";
            let total = 0;

            cart.forEach((item, index) => {
                total += item.price;
                cartBody.innerHTML += `
                    <tr>
                        <td>${item.item}</td>
                        <td>${item.quantity}</td>
                        <td>$${item.price.toFixed(2)}</td>
                        <td><button onclick="removeItem(${index})">Remove</button></td>
                    </tr>
                `;
            });
            document.getElementById("totalPrice").textContent = total.toFixed(2);
        }

        function removeItem(index) {
            cart.splice(index, 1);
            updateCart();
        }

        function submitOrder() {
            let email = document.getElementById("email").value;
            let fullName = document.getElementById("fullName").value;
            let studentID = document.getElementById("studentID").value;
            
            if (!email || !fullName || !studentID || cart.length === 0) {
                alert("Please complete all fields and add at least one item.");
                return;
            }

            let order = {
                email,
                fullName,
                studentID,
                items: cart,
                total: document.getElementById("totalPrice").textContent
            };
            console.log("Order Submitted:", order);
            alert("Order submitted successfully!");
        }
    </script>
</body>
</html>
