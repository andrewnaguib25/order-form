<!DOCTYPE html>
<html>
  <head>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
    />
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const snackPrices = {
          "Cup of Noodles": 1.5,
          "Pop Tarts": 1.5,
          "Oreos": 1.5,
          "Famous Amos": 1.5,
          "Uncrustable": 2,
          "Mac' N Cheese": 2,
          "Nature Valley Bar": 2,
          "Clif Bar": 2,
          "Fit Crunch Bar": 3,
          "Donuts": 3,
          "Beef Jerky": 3,
          "Chester's Fries": 1.75,
          "Hot Cheetos": 1.75,
          "Frito Lay Variety": 1.75,
          "Pringles": 2,
          "Takis": 3
        };

        const candyPrices = {
          "Kit Kat": 2,
          "Twix": 2,
          "Snickers": 2,
          "Reese's": 2,
          "Sour Punch Straws": 2,
          "Skittles": 2,
          "Sour Patch Kids": 2
        };

        const drinkPrices = {
          "Water": 1,
          "Sprite": 1.75,
          "Coke": 1.75,
          "Diet Coke": 1.75,
          "Dr. Pepper": 1.75,
          "Sunkist": 1.75,
          "Fruit Punch Gatorade": 3,
          "Lemon Lime Gatorade": 3,
          "Starbucks": 3,
          "Fairlife": 3
        };

        function updateCart() {
          const snack = document.getElementById("snacks").value;
          const candy = document.getElementById("candy").value;
          const drink = document.getElementById("drinks").value;
          const fork = document.getElementById("fork").value;

          let total = 0;
          let items = [];

          if (snack) {
            total += snackPrices[snack];
            items.push(snack + " - $" + snackPrices[snack].toFixed(2));
          }
          if (candy) {
            total += candyPrices[candy];
            items.push(candy + " - $" + candyPrices[candy].toFixed(2));
          }
          if (drink) {
            total += drinkPrices[drink];
            items.push(drink + " - $" + drinkPrices[drink].toFixed(2));
          }
          if (fork === "Yes") {
            total += 0.25;
            items.push("Fork - $0.25");
          }

          document.getElementById("cart-items").innerHTML = items
            .map((item) => `<li>${item}</li>`) 
            .join("");
          document.getElementById("total").innerText = "$" + total.toFixed(2);
        }

        // Add event listeners for all select elements
        document.querySelectorAll("select").forEach((el) => {
          el.addEventListener("change", updateCart);
        });

        // Initialize cart on page load
        updateCart();
      });
    </script>
  </head>
  <body>
    <section class="hero is-primary is-bold">
      <div class="hero-body">
        <div class="container">
          <h1 class="title">ASB PREORDER FORM</h1>
        </div>
      </div>
    </section>
    <form id="form" class="container m-4 pl-4" method="POST" action="https://formspree.io/f/mvoebvje">
      <div class="field">
        <label class="label">Name</label>
        <div class="control">
          <input class="input" type="text" placeholder="Full Name" name="Name" required />
        </div>
      </div>

      <div class="field">
        <label class="label">Email</label>
        <div class="control">
          <input class="input" type="email" placeholder="Your Email" name="Email" required />
        </div>
      </div>

      <div class="field">
        <label class="label">Date of Birth</label>
        <div class="control">
          <input class="input" type="date" name="DOB" required />
        </div>
      </div>

      <!--div class="field">
        <label class="label">Gender</label>
        <div class="control">
          <div class="select">
            <select name="Gender" required>
              <option value="">Select Gender</option>
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
          </div>
        </div>
    </div-->

      <h2 class="title">Snacks</h2>
      <div class="field">
        <div class="control">
          <div class="select">
            <select id="snacks" name="Snacks">
              <option value="">Select a Snack</option>
              <option value="Cup of Noodles">Cup of Noodles - $1.50</option>
              <option value="Pop Tarts">Pop Tarts - $1.50</option>
              <option value="Oreos">Oreos - $1.50</option>
              <option value="Famous Amos">Famous Amos - $1.50</option>
              <option value="Uncrustable">Uncrustable - $2</option>
              <option value="Mac' N Cheese">Mac' N Cheese - $2</option>
              <option value="Nature Valley Bar">Nature Valley Bar - $2</option>
              <option value="Clif Bar">Clif Bar - $2</option>
              <option value="Fit Crunch Bar">Fit Crunch Bar - $3</option>
              <option value="Donuts">Donuts - $3</option>
              <option value="Beef Jerky">Beef Jerky - $3</option>
              <option value="Chester's Fries">Chester's Fries - $1.75</option>
              <option value="Hot Cheetos">Hot Cheetos - $1.75</option>
              <option value="Frito Lay Variety">Frito Lay Variety - $1.75</option>
              <option value="Pringles">Pringles - $2</option>
              <option value="Takis">Takis - $3</option>
            </select>
          </div>
        </div>
      </div>

      <h2 class="title">Candy</h2>
      <div class="field">
        <div class="control">
          <div class="select">
            <select id="candy" name="Candy">
              <option value="">Select a Candy</option>
              <option value="Kit Kat">Kit Kat - $2</option>
              <option value="Twix">Twix - $2</option>
              <option value="Snickers">Snickers - $2</option>
              <option value="Reese's">Reese's - $2</option>
              <option value="Sour Punch Straws">Sour Punch Straws - $2</option>
              <option value="Skittles">Skittles - $2</option>
              <option value="Sour Patch Kids">Sour Patch Kids - $2</option>
            </select>
          </div>
        </div>
      </div>

      <h2 class="title">Drinks</h2>
      <div class="field">
        <div class="control">
          <div class="select">
            <select id="drinks" name="Drinks">
              <option value="">Select a Drink</option>
              <option value="Water">Water - $1</option>
              <option value="Sprite">Sprite - $1.75</option>
              <option value="Coke">Coke - $1.75</option>
              <option value="Diet Coke">Diet Coke - $1.75</option>
              <option value="Dr. Pepper">Dr. Pepper - $1.75</option>
              <option value="Sunkist">Sunkist - $1.75</option>
              <option value="Fruit Punch Gatorade">Fruit Punch Gatorade - $3</option>
              <option value="Lemon Lime Gatorade">Lemon Lime Gatorade - $3</option>
              <option value="Starbucks">Starbucks - $3</option>
              <option value="Fairlife">Fairlife - $3</option>
            </select>
          </div>
        </div>
      </div>

      <h2 class="title">Fork</h2>
      <div class="field">
        <div class="control">
          <div class="select">
            <select id="fork" name="Fork">
              <option value="No">No</option>
              <option value="Yes">Yes - $0.25</option>
            </select>
          </div>
        </div>
      </div>

      <div class="field">
        <label class="label">Cart</label>
        <div class="box">
          <ul id="cart-items"></ul>
          <p><strong>Total:</strong> <span id="total">$0.00</span></p>
        </div>
      </div>

      <div class="field is-grouped">
        <div class="control">
          <button class="button is-primary" type="submit" id="submit-button">
            Submit Order
          </button>
        </div>
      </div>
    </form>
  </body>
</html>
